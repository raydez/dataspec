/**
 * 指标定义模板生成器
 */

export function generateMetricTemplate(
  metricName: string, 
  category?: string,
  owner?: string
): string {
  const currentDate = new Date().toISOString().split('T')[0];
  
  return `# 指标定义：${metricName}

<!-- DATASPEC:METRIC:START -->
## 基本信息
- **指标名称：** ${metricName}
- **指标分类：** ${category || '[请填写]'}
- **业务口径负责人：** ${owner || '[请填写]'}
- **更新频率：** T+1 日

## 业务定义

[请用通俗易懂的语言描述此指标的业务含义]

## 计算公式

\`\`\`
${metricName} = SUM([字段名])
\`\`\`

> 💡 提示：请使用业务语言描述计算逻辑，避免过多技术细节

## 技术实现

### 数据来源
- **主表：** [表名，如 dw.sales_daily]
- **字段：** [字段名]
- **其他关联表：** [如有，请列出]

### SQL 逻辑

\`\`\`sql
SELECT
    SUM([字段名]) AS ${metricName}
FROM [表名]
WHERE dt = '\${bizdate}'
  AND [其他过滤条件];
\`\`\`

### 计算说明
- [请说明特殊的计算逻辑，如排除条件、特殊处理等]

## 相关指标

### 与其他指标的关系
- **[相关指标名]**：[说明关系，如"XX 是 YY 的子集"]

### 口径差异
- 与 [其他指标] 的差异：[说明差异原因]

## 使用场景
1. [场景1，如：月度经营分析报告]
2. [场景2，如：业务部门日报]
3. [场景3]

## 注意事项
- ⚠️ [重要提示1]
- ⚠️ [重要提示2]

<!-- DATASPEC:METRIC:END -->

## 变更历史
- ${currentDate}: 初始创建

---

## 示例数据

### 典型值范围
- 日常：[描述正常范围，如 100-500万]
- 大促：[描述大促期间范围，如 1000-3000万]

### 异常情况
- 如果指标为 0，可能原因：[列出可能原因]
- 如果指标异常高/低，可能原因：[列出可能原因]

### 联系方式
如有疑问，请联系业务口径负责人。
`;
}
